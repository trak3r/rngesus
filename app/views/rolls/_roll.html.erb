<% dice_options = [
  { value: 2, icon: "circle-stack" },
  { value: 4, icon: "exclamation-triangle" },
  { value: 6, icon: "cube" },
] %>

<div id="<%= dom_id roll %>" class="w-full my-5">
  <div class="flex items-center justify-between w-full">

    <!-- Left: Name -->
    <div class="flex-1">
      <strong class="font-medium"><%= roll.name %></strong>
    </div>

    <!-- Center: Dice -->
    <div class="flex justify-center flex-1 space-x-2">
      <% dice_options.each do |opt| %>
        <%= button_to roll_path(roll.randomizer, roll),
          method: :patch,
          params: { roll: { name: roll.name, dice: opt[:value] }},
          class: [
            "btn btn-square",
            (roll.dice == opt[:value] ? "btn-primary" : "btn-ghost")
          ].join(" "),
          data: { turbo: true } do %>
          <%= icon(opt[:icon]) %>
        <% end %>
      <% end %>
    </div>

    <!-- Right: Edit/Delete -->
    <div class="flex justify-end flex-1 gap-2">
      <%= link_to edit_roll_path(roll),
        class: "btn btn-ghost btn-sm" do %>
        <%= icon("pencil-square") %>
      <% end %>

      <%= button_to roll_path(roll),
        method: :delete,
        data: { turbo_confirm: "Are you sure?" },
        class: "btn btn-ghost btn-sm text-red-600 hover:text-red-800" do %>
        <%= icon("trash") %>
      <% end %>
    </div>

  </div>

  <!-- Results below -->
  <%= render "results/index", roll: roll %>
</div>
