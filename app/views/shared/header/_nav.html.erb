<div id="header_nav" class="hidden lg:flex items-center gap-1 mx-2">
  <% ['newest', 'most_liked', 'your_likes', 'your_rolls'].each do |tab_name| %>
    <% 
      is_active = (current_tab == tab_name && on_index)
      is_restricted = ['your_likes', 'your_rolls'].include?(tab_name)
      
      link_data = { turbo_action: "advance" }
      if on_index
        if is_restricted && !current_user
          link_data[:turbo_frame] = "_top"
          link_data[:turbo_action] = "replace"
        else
          link_data[:turbo_stream] = true
        end
      end
    %>
    <%= link_to rolls_path(tab: tab_name),
        class: "btn btn-ghost btn-md text-lg font-semibold #{is_active ? 'bg-base-300' : ''}",
        data: link_data do %>
      <%= tab_name.titleize %>
    <% end %>
  <% end %>
</div>
