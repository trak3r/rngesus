<div id="header_nav" class="hidden lg:flex items-center gap-1 mx-2">
  <% ['newest', 'most_liked', 'your_likes', 'your_rolls'].each do |tab_name| %>
    <% 
      # Ensure consistent string comparison for active state
      active_tab_name = current_tab.to_s
      target_tab_name = tab_name.to_s
      
      is_active = (active_tab_name == target_tab_name && on_index)
      is_restricted = ['your_likes', 'your_rolls'].include?(target_tab_name)
      
      link_data = { 
        turbo_action: "advance",
        turbo_frame: "_top"
      }
    %>
    <%= link_to rolls_path(tab: target_tab_name),
        id: "nav_tab_#{target_tab_name}",
        class: "btn btn-ghost btn-md text-lg font-semibold #{is_active ? 'bg-base-300' : ''}",
        data: link_data do %>
      <%= target_tab_name.titleize %>
    <% end %>
  <% end %>
</div>
