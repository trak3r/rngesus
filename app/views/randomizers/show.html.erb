<p style="color: green"><%= notice %></p>

<div class="space-y-8">
  <div class="flex items-center justify-between">
    <h1 class="text-3xl font-bold text-gray-900">Randomizer Details</h1>
    <%= link_to randomizers_path, data: { turbo_frame: "_top" },
        class: "rounded-md bg-white px-3.5 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" do %>
      Back to list
    <% end %>
  </div>

  <%= turbo_frame_tag dom_id(@randomizer) do %>
    <div class="rounded-lg bg-white p-6 shadow-sm ring-1 ring-gray-900/5">
      <%= render @randomizer %>

      <div class="mt-6 flex items-center space-x-4">
        <%= link_to edit_randomizer_path(@randomizer),
            data: { turbo_frame: dom_id(@randomizer, :edit) },
            class: "rounded-md bg-blue-600 px-3.5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600" do %>
          Edit
        <% end %>

        <%= button_to @randomizer,
            method: :delete,
            data: { turbo_confirm: "Are you sure?" },
            class: "rounded-md bg-red-600 px-3.5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600" do %>
          Delete
        <% end %>
      </div>
    </div>
  <% end %>
</div>
 
 <div class="mt-8 space-y-4">
   <h2 class="text-xl font-semibold text-gray-900">Rolls</h2>

   <div id="<%= dom_id(@randomizer, :rolls) %>" class="space-y-3">
     <% @randomizer.rolls.order(created_at: :desc).each do |roll| %>
       <%= render partial: "rolls/roll", locals: { roll: roll } %>
     <% end %>
   </div>

   <div class="pt-4">
     <%= form_with model: [@randomizer, Roll.new], local: false, class: "space-y-2" do |f| %>
       <div class="flex items-center space-x-2">
         <div class="flex-1">
           <%= f.label :name, "Name", class: "sr-only" %>
           <%= f.text_field :name, placeholder: "Name (e.g. 'First roll')", class: "block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6" %>
         </div>
         <%= hidden_field_tag :sides, 6 %>
         <%= f.submit "Roll (1-6)", class: "rounded-md bg-blue-600 px-3.5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500" %>
       </div>
     <% end %>
   </div>
 </div>
